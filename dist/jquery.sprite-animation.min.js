/*! jQuery Sprite Animation - v1.0.0 - 2012-08-16
* https://github.com/DeuxHuitHuit/jQuery-sprite-animation
* Copyright (c) 2012 Deux Huit Huit; Licensed MIT */
(function(a,b){"use strict",a.extend({spriteAnimation:{defaults:{cols:1,rows:3,speed:100,iterations:0,delay:0,width:"auto",height:"auto",startCol:0,startRow:0,dataKey:"sprite-animation",count:function(){return this.cols*this.rows},frameComplete:null,iterationComplete:null,animationComplete:null}}});var c=function(b){var c=!1;return a.isFunction(a.isNumeric)?c=a.isNumeric(b):a.isFunction(a.isNaN)?c=!a.isNaN(b):c=b!==!0&&b!==!1&&b!=null&&!window.isNaN(b),c},d=function(a,b){return a+"px "+b+"px"},e=function(){return(new Date).getTime()},f=function(a){a.current.index++,a.current.delay=0;var b=a.current.index>=a.count(),c=a.current.row+1>=a.rows,d=a.current.col+1>=a.cols,e=!0;return b?(a.current.iteration++,a.current.index=0,a.current.row=0,a.current.col=0,a.current.delay=a.delay,e=a.iterations===0||a.iterations!==0&&a.current.iteration<a.iterations):d&&!c?(a.current.row++,a.current.col=0):a.current.col++,{shouldAdvance:e,iterationEnd:b}},g=function(b){var d=a.spriteAnimation.defaults.speed;return c(b.speed)?d=b.speed:a.isFunction(b.speed)&&(d=b.speed(b.current.col,b.current.row,b.count())),c(d)||(d=0),d+=b.current.delay,d},h=function(a,b){var c=a.data(),d=function(){j(a,b)};c[b.dataKey]=setTimeout(d,g(b))},i=function(a,b){a.css({"background-position":d(-b.current.col*b.width,-b.current.row*b.height)})},j=function(b,c){var d=f(c);i(b,c),d.shouldAdvance?(a.isFunction(c.frameComplete)&&c.frameComplete.call(b,c),d.iterationEnd&&a.isFunction(c.iterationComplete)&&c.iterationComplete.call(b,c),h(b,c)):a.isFunction(c.animationComplete)&&c.animationComplete.call(b,c)};a.fn.spriteAnimation=function(b){if(!this.each||!this[0])return this;var c=a.extend({},a.spriteAnimation.defaults,b),d=a(this),e=d.data(),f=e[c.dataKey];return b==="stop"?(clearTimeout(f),f=e[c.dataKey]=null,this):b==="start"?(c=e[c.dataKey+"-options"],!f&&!!c&&h(d,c),this):(c=a.extend(!0,c,{current:{row:c.startRow||0,col:c.startCol||0,iteration:0,index:c.startRow*c.cols+c.startCol||0,delay:0}}),clearTimeout(f),f=e[c.dataKey]=null,c.width=="auto"&&(c.width=d.width()),c.height=="auto"&&(c.height=d.height()),e[c.dataKey+"-options"]=c,i(d,c),h(d,c),this)},a.extend(a.spriteAnimation,{_private:{_createBackgroundPosition:d,_preAnimate:f,_transition:i,_getSpeed:g,_isNumeric:c}})})(jQuery);