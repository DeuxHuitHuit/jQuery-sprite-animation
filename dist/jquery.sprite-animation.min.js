/*! jQuery Sprite Animation - v1.0.0 - 2012-08-14
* https://github.com/DeuxHuitHuit/jQuery-sprite-animation
* Copyright (c) 2012 Deux Huit Huit; Licensed MIT */
(function(a,b){"use strict",a.extend({spriteAnimation:{defaults:{cols:1,rows:3,speed:100,iterations:0,delay:0,width:"auto",height:"auto",startCol:0,startRow:0,dataKey:"sprite-animation",count:function(){return this.cols*this.rows}}}});var c=function(b){var c=!1;return a.isFunction(a.isNumeric)?c=a.isNumeric(b):a.isFunction(a.isNaN)?c=!a.isNaN(b):c=b!==!0&&b!==!1&&b!=null&&!window.isNaN(b),c},d=function(a,b){return a+"px "+b+"px"},e=function(a){a.current.index++,a.current.delay=0;var b=a.current.index>=a.count(),c=a.current.row+1>=a.rows,d=a.current.col+1>=a.cols,e=!0;return b?(a.current.iteration++,a.current.index=0,a.current.row=0,a.current.col=0,a.current.delay=a.delay,e=a.iterations===0||a.iterations!==0&&a.current.iteration-1<a.iterations):d&&!c?(a.current.row++,a.current.col=0):a.current.col++,e},f=function(b){var d=a.spriteAnimation.defaults.speed;return c(b.speed)?d=b.speed:a.isFunction(b.speed)&&(d=b.speed(b.current.col,b.current.row,b.count())),c(d)||(d=0),d+=b.current.delay,d},g=function(a,b){var c=a.data(),d=function(){i(a,b)};c[b.dataKey]=setTimeout(d,f(b))},h=function(a,b){a.css({"background-position":d(-b.current.col*b.width,-b.current.row*b.height)})},i=function(a,b){var c=e(b);h(a,b),c&&g(a,b)};a.fn.spriteAnimation=function(b){if(!this.each||!this[0])return this;var c=a.extend({},a.spriteAnimation.defaults,b),d=a(this),e=d.data(),f=e[c.dataKey];return b==="stop"?(clearTimeout(f),f=null,this):(c=a.extend(!0,c,{current:{row:b.startRow,col:b.startCol,iteration:0,index:c.startRow*c.cols+c.startCol,delay:0}}),c.width=="auto"&&(c.width=d.width()),c.height=="auto"&&(c.height=d.height()),h(d,c),g(d,c),this)},a.extend(a.spriteAnimation,{_private:{_createBackgroundPosition:d,_preAnimate:e,_transition:h,_getSpeed:f,_isNumeric:c}})})(jQuery);