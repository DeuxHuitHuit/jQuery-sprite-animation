language: nodejs
node_js:
  - 0.7
notifications:
  email: false
before_script:
  - "export DISPLAY=:99.0"
  - "sh -e /etc/init.d/xvfb start"
  - node --version
  - npm install connect
  - node ./qunit/server.js /../ 8080 &
  - sleep 3
script:
  - /usr/local/bin/phantomjs ./qunit/runner.js 'http://localhost:8080/tests/jquery.sprite-animation.js.test.html?jquery=1.7'
  - /usr/local/bin/phantomjs ./qunit/runner.js 'http://localhost:8080/tests/jquery.sprite-animation.js.test.html?notrycatch=true&noglobals=true&jquery=1.6'
  - /usr/local/bin/phantomjs ./qunit/runner.js 'http://localhost:8080/tests/jquery.sprite-animation.js.test.html?notrycatch=true&noglobals=true&jquery=1.5'
  - /usr/local/bin/phantomjs ./qunit/runner.js 'http://localhost:8080/tests/jquery.sprite-animation.js.test.html?notrycatch=true&noglobals=true&jquery=1.4'